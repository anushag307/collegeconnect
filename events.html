<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang=""> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>College Connect</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="apple-touch-icon" href="apple-touch-icon.png">


        <link rel="stylesheet" href="assets/css/fonticons.css">
        <link rel="stylesheet" href="assets/fonts/stylesheet.css">
        <link rel="stylesheet" href="assets/css/font-awesome.min.css">
        <link rel="stylesheet" href="assets/css/bootstrap.min.css">


        <!--For Plugins external css-->
        <link rel="stylesheet" href="assets/css/plugins.css" />

        <!--Theme custom css -->
        <link rel="stylesheet" href="assets/css/style.css">

        <!--Theme Responsive css-->
        <link rel="stylesheet" href="assets/css/responsive.css" />

        <script src="assets/js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>
    </head>
    <body data-spy="scroll" data-target=".navbar-collapse">
        <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

          <header id="main_menu" class="header navbar-fixed-top">
            <div class="main_menu_bg">
                <div class="container">
                    <div class="row">
                        <div class="nave_menu">
                            <nav class="navbar navbar-default" id="navmenu">
                                <div class="container-fluid">
                                    <!-- Brand and toggle get grouped for better mobile display -->
                                    <div class="navbar-header">
                                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                                            <span class="sr-only">Toggle navigation</span>
                                            <span class="icon-bar"></span>
                                            <span class="icon-bar"></span>
                                            <span class="icon-bar"></span>
                                        </button>
                                        <a class="navbar-brand" href="index.html">
                                            <img src="assets/images/jhub.png" style="width:200px;margin-top: -8px">
                                        </a>
                                    </div>

                                    <!-- Collect the nav links, forms, and other content for toggling -->



                                    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                                        <ul class="nav navbar-nav navbar-right">
                                          <li><a href="index.html">Home</a></li>
                                          <li><a href="mentors.html">Mentors</a></li>
                                          <li><a href="colleges.html">Colleges</a></li>
                                          <li><a href="events.html">Events</a></li>
                                          <li><a href="jobs.html">Jobs</a></li>
                                          <li><a href="gallery.html">Gallery</a></li>
                                      </ul>
                                    </div>

                                </div>
                            </nav>
                        </div>
                    </div>

                </div>

            </div>
        </header>


        <section id="home" class="home">
            <div class="overlay">
                <div class="container">
                    <div class="row">
                    </div>
                </div>
            </div>
        </section>





        <section id="service" class="service">
            <div id="masonry-grid"></div>
        </section>




        <!-- START SCROLL TO TOP  -->

        <div class="scrollup">
            <a href="#"><i class="fa fa-chevron-up"></i></a>
        </div>

        <script src="assets/js/vendor/jquery-1.11.2.min.js"></script>
        <script src="assets/js/vendor/bootstrap.min.js"></script>

        <script src="assets/js/jquery.easypiechart.min.js"></script>
        <script src="assets/js/jquery.mixitup.min.js"></script>
        <script src="assets/js/jquery.easing.1.3.js"></script>

        <script src="assets/js/plugins.js"></script>
        <script src="assets/js/main.js"></script>

        <style type="text/css">
            /*.overview >p,h3 {
                font-size: 1.125rem;
                text-align: justify;
            }*/


            .overlay {
                height: 80px;
            }
            .overlay{
                background-color:rgba(255, 0, 0, 0.95);
            }
            .menu-scroll
            {
                background-color:rgba(255, 0, 0, 0.95);
            }
        </style>
        <script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
        <style type="text/css">
.menu-category {
 display: inline-block;
 margin-top: 5%;
 margin-bottom: 5%;
 width: 90%;
 margin-bottom: 10px;
}
@media (max-width: 480px){
	.menu-category {
 		margin-left:  0%;
 		width: 100%;
	}

}

.outer
{
	margin: 1px;
}

.card
{
	padding-bottom: 0px;
	/*box-shadow: 0.0px 0.0px 0.5px 0.0px rgb(125,125,125) ;
	-webkit-box-shadow:0.0px 0.0px 0.5px 0.0px rgb(125,125,125) ;
	-moz-box-shadow:0.0px 0.0px 0.5px 0.0px rgb(125,125,125) ;*/
	border: 1px solid #f4f4f4;
	/*box-shadow: rgba(0,0,0,0.12) 9px 12px 14px -11px;*/
}

.coverpic
{
	height: 160px;
	width: 100%;
	background-repeat: no-repeat;
	background-size: cover;
	background-position: center;
}

.tile-category{
	   margin-top: 0px;
    padding-top: 12px;
}
.tile-category span{
	background: rgba(0,0,0,0.4);
    border-radius: 2px;
    margin-top: 15px;
    margin-left: 12px;
    border: 1px solid white;
    /* height: 30px; */
    color: white;
    font-size: 12px;
    padding:5px;
    text-transform: capitalize;
}
        </style>
        <script>





function parseTiles(jsonArray, grid_table, list_source, list_type, list_id,fetchPost = false)
{
    //code to prepare tile content and append it to table;
    $(jsonArray).each( function(i, item) {
        if(item.type == "1"){  //story
            var html = '<div class="grid-item">'+
                                        '<div class="card menu-category" style="background: white;">'+
                                                '<a target="_blank" href="https://www.stumagz.com/'+
                                                    item.link+"/"+
                                                    '">'+
                                                    '<div class="coverpic" style="background-image: url(http://cdn.stumagz.com/images/'+
                                                    item.cover+
                                                'stryimg)">'+
                                                        '<p class="tile-category"><span>'+
                                                        item.category+
                                                        '</span></p>'+
                                                        '</div>'+
                                                    '<div class="outer">'+
                                                        '<div class="inner1">'+
                                                                '<div class="story_title">'+
                                                                        '<h2>'+
                                                                                (item.title?item.title:'')+
                                                                        '</h2>'+
                                                                '</div>'+
                                                                '<div class="description">'+
                                                                    '<p>'+
                                                                                (item.descr?item.descr.substring(0,100):'')+
                                                                    '</p>'+
                                                                '</div>'+
                                                        '</div>'+
                                                        '<div class="inner2">'+
                                                            '<div style="width:73%; overflow:hidden; float:left;">'+
                                                                '<div style="float:left">'+
                                                                        '<img class="image-details" src="http://cdn.stumagz.com/images/'+
                                                                                item.auth.profile+
                                                                                    'profilepic">'+
                                                                '</div>'+
                                                            '<div style="padding-left: 45px">'+
                                                            '<div class="author_name">'+
                                                                    '<h4>'+
                                                                            item.auth.title.substring(0,20)+
                                                                    '</h4>'+
                                                                    '</div>'+
                                                                            '<div class="clgname">'+
                                                                                    '<p>'+
                                                                                            (item.auth.home_magz_name?item.auth.home_magz_name:(item.magz?item.magz.title:'Other'))+
                                                                                    '</p>'+
                                                                            '</div>'+
                                                                    '</div>'+
                                                         '</div>'+
                                                         '<div style="width:25%; overflow:hidden; float:right;margin-top:15px;text-align:center;">'+
                                                                    '<a href="#" ><span style="margin-right:5px;">'+
                                                                                        formatLikeCount(item.like_count)+
                                                                                        '</span><div class="'+(item.is_like?'heart-liked':'heart')+'" alt="Like"/></div></a></div><div style="clear: both">'+
                                                                                    '</div>'+
                                                                                '</div>'+
                                                                            '</div>'+
                                                                        '</a>'+
                                                                '</div>'+
                                                        '</div>';

            var $items = $(html);
            grid_table.append($items).masonry('appended', $items);
        }
        else if(item.type == "2"){  //event
            var html = '<div class="grid-item"><div class="card menu-category" style="background: white;"><a target="_blank" href="https://www.stumagz.com/'+
                            item.link+"/"
                        '"><div class="coverpic" style="background-image: url(http://cdn.stumagz.com/images/'+
                            item.cover+
                        'stryimg)"><p class="tile-category"><span>'+
                            item.category+
                        '</span></p></div><div class="outer"><div class="inner1"><div class="story_title"><h2>'+
                            (item.title?item.title:'')+
                        '</h2></div><div class="description"><p>'+
                            (item.descr?item.descr.substring(0,100):'')+
                        '</p></div></div><div class="events-details"><div><div class="loc" style="float:left"><p><i class="fa fa-map-marker" style="padding-right:10px;"></i>'+
                            (item.loc?item.loc:'')+
                        '</p></div><div class="loc" style="float:right"><p><i class="fa fa-clock-o" style="padding-right:10px;"></i>'+
                            (item.date?getStumagzEventDate(item.date):'')+
                        '</p></div></div><div style="clear: both"></div></div><div class="inner2"><div style="width:73%; overflow:hidden; float:left;"><div style="float:left"><img class="image-details" src="http://cdn.stumagz.com/images/'+
                            item.auth.profile+
                        'profilepic"></div><div style="padding-left: 45px"><div class="author_name"><h4>'+
                            item.auth.title.substring(0,20)+
                        '</h4></div><div class="clgname"><p>'+
                            (item.auth.home_magz_name?item.auth.home_magz_name:(item.magz?item.magz.title:'Other'))+
                        '</p></div></div></div><div></div><div style="width:25%; overflow:hidden; float:right;margin-top:15px;text-align:center;"><a href="#" ><span style="margin-right:5px;">'+
                            formatLikeCount(item.like_count)+
                        '</span><div class="'+(item.is_like?'heart-liked':'heart')+'" alt="Like"/></div></a></div><div style="clear: both"></div></div></div></a></div></div>';

            var $items = $(html);
            grid_table.append($items).masonry('appended', $items);
        }
        else if(item.type == "3"){  //magazine

                var html =  '<div class="grid-item"><div class="card menu-category" style="background: white;"><a  target="_blank" href="https://www.stumagz.com/'+
                            item.link+
                        '/"><div class="coverpic" style="background-image: url(http://cdn.stumagz.com/images/'+
                            item.cover+
                        'coverpic)"></div><div class="outer"><div><img class="interior1" src="http://cdn.stumagz.com/images/'+
                            item.profile+
                        'profilepic" style="border-radius:6px;border:2px solid #fff;background-color:#fff"></div><div class="interior2"><div><div class="collegenme" style="color: rgba(0,0,0,0.75); font-weight: bold;"><h3>'+
                            item.title+
                        '</h3></div><div class="place" style="text-align:center"><p style="text-align:center">'+
                            (item.city?item.city:'NA')+
                        '</p></div></div><div class="interior3"><a  target="_blank" href="https://www.stumagz.com/'+
                            item.link+
                        '/">View Magazine</a></div><div style="clear: both"></div></div></a></div></div>';
            var $items = $(html);
            grid_table.append($items).masonry('appended', $items);
        }
        else if(item.type == "6"){  //task i.e., oppertinity
                    var html = '<div class="grid-item"><div class="card menu-category" style="background: white;"><a target="_blank" href="https://www.stumagz.com/'+
                    item.link+"/"+
                '"><div class="coverpic" style="background-image: url(http://cdn.stumagz.com/images/'+
                    item.cover+
                'stryimg)"><p class="tile-category"><span>'+
                    item.category+
                '</span></p></div><div class="outer"><div class="inner1"><div class="story_title"><h2>'+
                    (item.title?item.title:'')+
                '</h2></div><div class="description"><p>'+
                    (item.descr?item.descr.substring(0,100):'')+
                '</p></div></div><div class="inner2"><div  style="width:73%;overflow:hidden; float:left;"><div style="float:left"><img class="image-details" src="http://cdn.stumagz.com/images/'+
                    item.auth.profile+
                'profilepic"></div><div style="padding-left: 45px"><div class="author_name"><h4>'+
                    item.auth.title.substring(0,20)+
                '</h4></div><div class="clgname"><p>'+
                (item.auth.home_magz_name?item.auth.home_magz_name:(item.magz?item.magz.title:'Other'))+
                '</p></div></div></div><div style="width:25%; overflow:hidden; float:right;margin-top:15px;text-align:center;"><span style="margin-right:5px;">'+
                    formatLikeCount(item.like_count)+
                '</span><img style="height:20px" src="https://www.stumagz.com/public/img/'+(item.is_like?'applied':'apply')+'.svg" alt="Like"/></div><div style="clear: both"></div></div></div></a></div></div>';
        
        var $items = $(html);
        grid_table.append($items).masonry('appended', $items);
        }

    });
}


function formatLikeCount(count)
{
    if(count < 0)
         return 0;
     if(count < 1000)
        return count;
     if(count < 10000)
            return (count/1000).toFixed(2)+"k";
     if(count < 100000)
            return (count/1000).toFixed(1)+"k";
    return (count/1000).toFixed(0)+"k";
}

function getStumagzDate(UNIX_timestamp)
{
    /*var monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "June", "July", "Aug", "Sept", "Oct", "Nov", "Dec"];
    var date = new Date(d);
    var day = date.getDate();
    var monthIndex = date.getMonth();
    return monthNames[monthIndex] +' ' + day;*/
    console.log("preparing time");
    var a = new Date(UNIX_timestamp * 1000);
     var months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
      var year = a.getFullYear();
      var month = months[a.getMonth()];
      var date = a.getDate();
      var hour = a.getHours();
      var min = a.getMinutes();
      var time = date + ' ' + month + ' ' + year + ' ' + (hour<10?'0':'')+(hour%12)+':'+(min<10?'0':'')+min+' '+(hour>11?'PM':'AM');
      return time;
}

function getStumagzEventDate(d)
{
    var monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "June", "July", "Aug", "Sept", "Oct", "Nov", "Dec"];
    var date = new Date(d);
    var day = date.getDate();
    var monthIndex = date.getMonth();
    return monthNames[monthIndex] +' ' + day;
}



function linkify(news_text)
{
    var exp = /(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig;
    var text1=news_text.replace(exp, "<a target='_blank' href='$1'>$1</a>");
    var exp2 =/(^|[^\/])(www\.[\S]+(\b|$))/gim;
    return text1.replace(exp2, "$1<a target='_blank' rel='external nofollow' href='http://$2' style='color:blue;'>$2</a>");

}

function getStumagzNewsDate(UNIX_timestamp)
{
    var monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "June", "July", "Aug", "Sept", "Oct", "Nov", "Dec"];
    var date = new Date(UNIX_timestamp*1000);
    var day = date.getDate();
    var monthIndex = date.getMonth();
    var year = date.getFullYear();
    var hour = date.getHours();
    var min = date.getMinutes();
    return day+' '+monthNames[monthIndex]+' '+year+'  '+(hour%12)+':'+(min < 10 ? '0'+min : min )+' '+(hour>11?'PM':'AM');
}




function getStumagzShortDate(UNIX_timestamp)
{
    var monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "June", "July", "Aug", "Sept", "Oct", "Nov", "Dec"];
    var date = new Date(UNIX_timestamp*1000);
    var day = date.getDate();
    var monthIndex = date.getMonth();
    var year = date.getFullYear();
    var hour = date.getHours();
    var min = date.getMinutes();
    return day+' '+monthNames[monthIndex]+' '+year; //+' . '+(hour%12)+':'+min+' '+(hour>11?'PM':'AM');

}
function getStumagzDate(d)
{
    var monthNames = [
                      "Jan", "Feb", "Mar",
                      "Apr", "May", "June", "July",
                      "Aug", "Sept", "Oct",
                      "Nov", "Dec"
                    ];

    var date = new Date(d);
    var day = date.getDate();
    var monthIndex = date.getMonth();

    return monthNames[monthIndex] +' ' + day;
}


        </script>







<script>

 // script for loading all events
$(function() {

    //prepare global variables for ajax / infinite scroll
    // initialize masonry
    $('#masonry-grid').masonry({
        itemSelector: '.grid-item',
        columnWidth:'.grid-sizer',
        percentPosition: true,
        hiddenStyle: { opacity: 0 },
        visibleStyle: { opacity: 1 }
    });

        $.ajax({
                            url: "https://www.stumagz.com/api/cc/evnt/collegeconnect/",
                            type: "POST",
                            dataType: 'json',
                            success: function(msg)
                            {
                                if(msg.result == 1 && msg.message.length > 0)
                                {
                                    //$("#masonry-grid").append(
                                    parseTiles(msg.message,$("#masonry-grid"));
                                }
                                                }
                        });
                
});

</script>


    </body>

</html>
